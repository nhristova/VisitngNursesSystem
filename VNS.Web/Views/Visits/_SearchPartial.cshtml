@using VNS.Web.Models.Visits
@model VisitsViewModel

<h3>Select criteria</h3>
<p>Municipality, Town, Family ref#, Nurse</p>

@* TODO: extract to partial view, to be able to use for families too *@
@using (Html.BeginForm("Action", "Controller", FormMethod.Get, new { id = "searchVisitsForm", @class = "", role = "form" }))
{
    @Html.AntiForgeryToken()

    <div class="row">
        <div class="col-sm-3">
            <div class="form-group">
                <label for="municipality">Municipality</label><br />
                <select class="dropdown" name="municipality">
                    <option>- All -</option>
                    @foreach (var muni in Model.Municipalities)
                    {
                        <option value=@muni.Name.ToLower()> @muni.Name </option>
                    }
                </select>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="form-group">
                <label for="towns">Town</label><br />
                <select class="dropdown" name="towns">
                    <option>- All -</option>
                    @* TODO: Filter based on selected muni *@
                    @foreach (var muni in Model.Municipalities)
                    {
                        foreach (var town in muni.Towns)
                        {
                            <option value=@town.ToLower()> @town </option>
                        }
                    }
                </select>
            </div>
        </div>
    </div>

    <div class="row">
        <button type="reset" class="btn btn-default btn-sm">Clear</button>
        <button type="submit" class="btn btn-info btn-sm">Search</button>
        @Html.ActionLink("Add", "Add", "Visits", null, new { @class = "btn btn-success btn-sm" })
    </div>
}